{"ast":null,"code":"import _objectSpread from\"C:/Users/magdi/Desktop/App vacas/mi-proyecto/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import Calendar from'react-calendar';import'react-calendar/dist/Calendar.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EVENT_TYPES=[{value:'Nacimiento',label:'Nacimiento',icon:'üê£',manual:true},// { value: 'Ingreso', label: 'Ingreso a la finca', icon: 'üè°' }, // solo autom√°tico\n// { value: 'Llegada', label: 'Llegada de ganado', icon: 'üöö' }, // solo autom√°tico\n{value:'Vacunaci√≥n',label:'Vacunaci√≥n',icon:'üíâ',manual:true},{value:'Control sanitario',label:'Control sanitario',icon:'ü©∫',manual:true},{value:'Revisi√≥n veterinaria',label:'Revisi√≥n veterinaria',icon:'üë®‚Äç‚öïÔ∏è',manual:true},{value:'Parto',label:'Parto',icon:'üêÆ',manual:true},{value:'Ingreso de recurso',label:'Ingreso de recurso',icon:'üì¶'},// cambiado a caja\n{value:'Revisi√≥n de recurso',label:'Revisi√≥n de recurso',icon:'üîß'},// cambiado a llave inglesa\n{value:'Ingreso de medicina',label:'Ingreso de medicina',icon:'üß™'},// icono cambiado a tubo de ensayo\n{value:'Vencimiento de medicina',label:'Vencimiento de medicina',icon:'‚åõ'},// icono cambiado a reloj de arena\n{value:'Otro',label:'Otro',icon:'üìå',manual:true}];function getEventIcon(tipo){const found=EVENT_TYPES.find(e=>e.value===tipo);return found?found.icon:'üìå';}export default function Agenda(){const navigate=useNavigate();const[eventos,setEventos]=useState([]);const[nuevoEvento,setNuevoEvento]=useState({tipo:'',descripcion:'',fecha:''});const[selectedDate,setSelectedDate]=useState(new Date());useEffect(()=>{fetch('/api/eventos').then(res=>res.json()).then(data=>setEventos(data));// Permitir refresco global desde otros m√≥dulos\nwindow.refreshAgendaEventos=()=>{fetch('/api/eventos').then(res=>res.json()).then(data=>setEventos(data));};return()=>{window.refreshAgendaEventos=null;};},[]);const handleChange=e=>{setNuevoEvento(_objectSpread(_objectSpread({},nuevoEvento),{},{[e.target.name]:e.target.value}));};const handleDateChange=date=>{setSelectedDate(date);// Formatear la fecha seleccionada como YYYY-MM-DD y forzar hora 12:00:00 local para evitar desfase por zona horaria\nconst year=date.getFullYear();const month=String(date.getMonth()+1).padStart(2,'0');const day=String(date.getDate()).padStart(2,'0');// Crear un string de fecha absoluta\nsetNuevoEvento(_objectSpread(_objectSpread({},nuevoEvento),{},{fecha:\"\".concat(year,\"-\").concat(month,\"-\").concat(day,\"T12:00:00\")}));};const handleSubmit=async e=>{e.preventDefault();// Si la fecha viene en formato YYYY-MM-DD, forzar a YYYY-MM-DDT12:00:00\nlet eventoAEnviar=_objectSpread({},nuevoEvento);if(/^\\d{4}-\\d{2}-\\d{2}$/.test(eventoAEnviar.fecha)){eventoAEnviar.fecha=eventoAEnviar.fecha+'T12:00:00';}const res=await fetch('/api/eventos',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(eventoAEnviar)});if(res.ok){const evento=await res.json();setEventos([...eventos,evento]);setNuevoEvento({tipo:'',descripcion:'',fecha:eventoAEnviar.fecha});}};// Eventos del d√≠a seleccionado (mostrar todos los eventos cuyo bovino no es null o no tiene bovino)\nconst eventosDelDia=eventos.filter(ev=>ev.fecha&&new Date(ev.fecha).toDateString()===selectedDate.toDateString()&&(ev.bovino===undefined||ev.bovino!==null)).filter(ev=>ev.bovino!==null);// filtra eventos de bovinos eliminados\n// Pines en el calendario (mostrar todos los eventos cuyo bovino no es null o no tiene bovino)\nfunction tileContent(_ref){let{date,view}=_ref;if(view==='month'){const eventosDia=eventos.filter(ev=>ev.fecha&&new Date(ev.fecha).toDateString()===date.toDateString()&&(ev.bovino===undefined||ev.bovino!==null));return/*#__PURE__*/_jsx(\"span\",{children:eventosDia.map(ev=>/*#__PURE__*/_jsx(\"span\",{title:ev.tipo,style:{fontSize:'1.1rem',marginRight:2},children:getEventIcon(ev.tipo)},ev._id))});}return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),style:{marginBottom:20,background:'#1976d2',color:'#fff',border:'none',borderRadius:8,padding:'0.5rem 1.2rem',fontWeight:600,cursor:'pointer'},children:\"\\u2190 Volver al men\\xFA principal\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Agenda de Actividades\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{minWidth:320,flex:2},children:/*#__PURE__*/_jsx(Calendar,{onChange:handleDateChange,value:selectedDate,tileContent:tileContent,calendarType:\"ISO 8601\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:260},children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"select\",{name:\"tipo\",value:nuevoEvento.tipo,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tipo de evento\"}),EVENT_TYPES.filter(e=>e.manual).map(e=>/*#__PURE__*/_jsxs(\"option\",{value:e.value,children:[e.icon,\" \",e.label]},e.value))]}),/*#__PURE__*/_jsx(\"input\",{name:\"descripcion\",placeholder:\"Descripci\\xF3n\",value:nuevoEvento.descripcion,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Agregar Evento\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'2rem'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{marginBottom:8},children:[\"Eventos del \",selectedDate.toLocaleDateString(),\":\"]}),/*#__PURE__*/_jsx(\"ul\",{children:eventosDelDia.length?eventosDelDia.map(ev=>/*#__PURE__*/_jsxs(\"li\",{style:{display:'flex',alignItems:'center',gap:8},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.2rem',marginRight:6},children:getEventIcon(ev.tipo)}),/*#__PURE__*/_jsx(\"b\",{style:{color:'#1976d2'},children:ev.tipo}),\" - \",ev.descripcion,/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(window.confirm('¬øSeguro que deseas eliminar este evento?')){try{const res=await fetch(\"/api/eventos/\".concat(ev._id),{method:'DELETE'});if(res.ok){setEventos(eventos.filter(x=>x._id!==ev._id));}else{const data=await res.json();alert('No se pudo eliminar: '+(data.error||'Error desconocido.'));}}catch(err){alert('Error de red al eliminar el evento.');}}},style:{marginLeft:10,background:'#d32f2f',color:'#fff',border:'none',borderRadius:6,padding:'2px 8px',fontWeight:600,cursor:'pointer',fontSize:'0.95rem'},children:\"Eliminar\"})]},ev._id)):/*#__PURE__*/_jsx(\"span\",{style:{color:'#888'},children:\"No hay eventos para este d\\xEDa.\"})})]})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","Calendar","useNavigate","jsx","_jsx","jsxs","_jsxs","EVENT_TYPES","value","label","icon","manual","getEventIcon","tipo","found","find","e","Agenda","navigate","eventos","setEventos","nuevoEvento","setNuevoEvento","descripcion","fecha","selectedDate","setSelectedDate","Date","fetch","then","res","json","data","window","refreshAgendaEventos","handleChange","_objectSpread","target","name","handleDateChange","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","concat","handleSubmit","preventDefault","eventoAEnviar","test","method","headers","body","JSON","stringify","ok","evento","eventosDelDia","filter","ev","toDateString","bovino","undefined","tileContent","_ref","view","eventosDia","children","map","title","style","fontSize","marginRight","_id","className","onClick","marginBottom","background","color","border","borderRadius","padding","fontWeight","cursor","display","flexWrap","gap","minWidth","flex","onChange","calendarType","onSubmit","required","placeholder","type","marginTop","toLocaleDateString","length","alignItems","confirm","x","alert","error","err","marginLeft"],"sources":["C:/Users/magdi/Desktop/App vacas/mi-proyecto/frontend/src/pages/Agenda.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Calendar from 'react-calendar';\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst EVENT_TYPES = [\r\n  { value: 'Nacimiento', label: 'Nacimiento', icon: 'üê£', manual: true },\r\n  // { value: 'Ingreso', label: 'Ingreso a la finca', icon: 'üè°' }, // solo autom√°tico\r\n  // { value: 'Llegada', label: 'Llegada de ganado', icon: 'üöö' }, // solo autom√°tico\r\n  { value: 'Vacunaci√≥n', label: 'Vacunaci√≥n', icon: 'üíâ', manual: true },\r\n  { value: 'Control sanitario', label: 'Control sanitario', icon: 'ü©∫', manual: true },\r\n  { value: 'Revisi√≥n veterinaria', label: 'Revisi√≥n veterinaria', icon: 'üë®‚Äç‚öïÔ∏è', manual: true },\r\n  { value: 'Parto', label: 'Parto', icon: 'üêÆ', manual: true },\r\n  { value: 'Ingreso de recurso', label: 'Ingreso de recurso', icon: 'üì¶' }, // cambiado a caja\r\n  { value: 'Revisi√≥n de recurso', label: 'Revisi√≥n de recurso', icon: 'üîß' }, // cambiado a llave inglesa\r\n  { value: 'Ingreso de medicina', label: 'Ingreso de medicina', icon: 'üß™' }, // icono cambiado a tubo de ensayo\r\n  { value: 'Vencimiento de medicina', label: 'Vencimiento de medicina', icon: '‚åõ' }, // icono cambiado a reloj de arena\r\n  { value: 'Otro', label: 'Otro', icon: 'üìå', manual: true },\r\n];\r\n\r\nfunction getEventIcon(tipo) {\r\n  const found = EVENT_TYPES.find(e => e.value === tipo);\r\n  return found ? found.icon : 'üìå';\r\n}\r\n\r\nexport default function Agenda() {\r\n  const navigate = useNavigate();\r\n  const [eventos, setEventos] = useState([]);\r\n  const [nuevoEvento, setNuevoEvento] = useState({ tipo: '', descripcion: '', fecha: '' });\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n\r\n  useEffect(() => {\r\n    fetch('/api/eventos')\r\n      .then(res => res.json())\r\n      .then(data => setEventos(data));\r\n    // Permitir refresco global desde otros m√≥dulos\r\n    window.refreshAgendaEventos = () => {\r\n      fetch('/api/eventos')\r\n        .then(res => res.json())\r\n        .then(data => setEventos(data));\r\n    };\r\n    return () => { window.refreshAgendaEventos = null; };\r\n  }, []);\r\n\r\n  const handleChange = e => {\r\n    setNuevoEvento({ ...nuevoEvento, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleDateChange = date => {\r\n    setSelectedDate(date);\r\n    // Formatear la fecha seleccionada como YYYY-MM-DD y forzar hora 12:00:00 local para evitar desfase por zona horaria\r\n    const year = date.getFullYear();\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    // Crear un string de fecha absoluta\r\n    setNuevoEvento({ ...nuevoEvento, fecha: `${year}-${month}-${day}T12:00:00` });\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    // Si la fecha viene en formato YYYY-MM-DD, forzar a YYYY-MM-DDT12:00:00\r\n    let eventoAEnviar = { ...nuevoEvento };\r\n    if (/^\\d{4}-\\d{2}-\\d{2}$/.test(eventoAEnviar.fecha)) {\r\n      eventoAEnviar.fecha = eventoAEnviar.fecha + 'T12:00:00';\r\n    }\r\n    const res = await fetch('/api/eventos', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(eventoAEnviar)\r\n    });\r\n    if (res.ok) {\r\n      const evento = await res.json();\r\n      setEventos([...eventos, evento]);\r\n      setNuevoEvento({ tipo: '', descripcion: '', fecha: eventoAEnviar.fecha });\r\n    }\r\n  };\r\n\r\n  // Eventos del d√≠a seleccionado (mostrar todos los eventos cuyo bovino no es null o no tiene bovino)\r\n  const eventosDelDia = eventos.filter(ev =>\r\n    ev.fecha && new Date(ev.fecha).toDateString() === selectedDate.toDateString() &&\r\n    (ev.bovino === undefined || ev.bovino !== null)\r\n  ).filter(ev => ev.bovino !== null); // filtra eventos de bovinos eliminados\r\n\r\n  // Pines en el calendario (mostrar todos los eventos cuyo bovino no es null o no tiene bovino)\r\n  function tileContent({ date, view }) {\r\n    if (view === 'month') {\r\n      const eventosDia = eventos.filter(ev =>\r\n        ev.fecha && new Date(ev.fecha).toDateString() === date.toDateString() &&\r\n        (ev.bovino === undefined || ev.bovino !== null)\r\n      );\r\n      return (\r\n        <span>\r\n          {eventosDia.map(ev => (\r\n            <span key={ev._id} title={ev.tipo} style={{fontSize:'1.1rem', marginRight:2}}>{getEventIcon(ev.tipo)}</span>\r\n          ))}\r\n        </span>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <button onClick={() => navigate('/')} style={{marginBottom:20, background:'#1976d2', color:'#fff', border:'none', borderRadius:8, padding:'0.5rem 1.2rem', fontWeight:600, cursor:'pointer'}}>‚Üê Volver al men√∫ principal</button>\r\n      <h2>Agenda de Actividades</h2>\r\n      <div style={{display:'flex', flexWrap:'wrap', gap:'2rem'}}>\r\n        <div style={{minWidth:320, flex:2}}>\r\n          <Calendar\r\n            onChange={handleDateChange}\r\n            value={selectedDate}\r\n            tileContent={tileContent}\r\n            calendarType=\"ISO 8601\"\r\n          />\r\n        </div>\r\n        <div style={{flex:1, minWidth:260}}>\r\n          <form onSubmit={handleSubmit}>\r\n            <select name=\"tipo\" value={nuevoEvento.tipo} onChange={handleChange} required>\r\n              <option value=\"\">Tipo de evento</option>\r\n              {EVENT_TYPES.filter(e => e.manual).map(e => (\r\n                <option key={e.value} value={e.value}>{e.icon} {e.label}</option>\r\n              ))}\r\n            </select>\r\n            <input name=\"descripcion\" placeholder=\"Descripci√≥n\" value={nuevoEvento.descripcion} onChange={handleChange} />\r\n            <button type=\"submit\">Agregar Evento</button>\r\n          </form>\r\n          <div style={{marginTop:'2rem'}}>\r\n            <h4 style={{marginBottom:8}}>Eventos del {selectedDate.toLocaleDateString()}:</h4>\r\n            <ul>\r\n              {eventosDelDia.length ? eventosDelDia.map(ev => (\r\n                <li key={ev._id} style={{display:'flex',alignItems:'center',gap:8}}>\r\n                  <span style={{fontSize:'1.2rem', marginRight:6}}>{getEventIcon(ev.tipo)}</span>\r\n                  <b style={{color:'#1976d2'}}>{ev.tipo}</b> - {ev.descripcion}\r\n                  <button\r\n                    onClick={async () => {\r\n                      if(window.confirm('¬øSeguro que deseas eliminar este evento?')) {\r\n                        try {\r\n                          const res = await fetch(`/api/eventos/${ev._id}`, { method: 'DELETE' });\r\n                          if(res.ok) {\r\n                            setEventos(eventos.filter(x => x._id !== ev._id));\r\n                          } else {\r\n                            const data = await res.json();\r\n                            alert('No se pudo eliminar: ' + (data.error || 'Error desconocido.'));\r\n                          }\r\n                        } catch (err) {\r\n                          alert('Error de red al eliminar el evento.');\r\n                        }\r\n                      }\r\n                    }}\r\n                    style={{marginLeft:10, background:'#d32f2f', color:'#fff', border:'none', borderRadius:6, padding:'2px 8px', fontWeight:600, cursor:'pointer', fontSize:'0.95rem'}}\r\n                  >Eliminar</button>\r\n                </li>\r\n              )) : <span style={{color:'#888'}}>No hay eventos para este d√≠a.</span>}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}